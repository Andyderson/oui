////
/// Rangeslider
/// @description Visual range selector
///
/// @example[html] Visual range slider
/// <div class="oui-rangeslider">
///   <div class="lego-grid">
///     <div class="lego-grid__cell">
///       <label class="lego-label light-text">0%</label>
///       <label class="lego-label flush-right light-text">100%</label>
///       <div class="range-display"></div>
///       <div class="range-display range-display-overlay"></div>
///       <div class="range-grid">
///         <div class="gridline grid-1"></div>
///         <div class="gridline grid-2"></div>
///         <div class="gridline grid-3"></div>
///         <div class="gridline grid-4"></div>
///         <div class="gridline grid-5"></div>
///         <div class="gridline gridline-half grid-h1"></div>
///         <div class="gridline gridline-half grid-h2"></div>
///         <div class="gridline gridline-half grid-h3"></div>
///         <div class="gridline gridline-half grid-h4"></div>
///       </div>
///       <input data-traffic-group="1" type="range" min="0" max="100" step="1" value="50" />
///     </div>
///   </div>
/// </div>

.oui-rangeslider {
  .rangeslider {
    margin: 20px 0;
    position: relative;
    background: #e6e6e6;
    -ms-touch-action: none;
    touch-action: none;
  }
  .rangeslider,
  .rangeslider__fill {
    display: block;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.4);
  }

  .rangeslider .rangeslider__handle {
    background: #fff;
    border: 1px solid #ccc;
    cursor: pointer;
    display: inline-block;
    position: absolute;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4), 0 -1px 3px rgba(0, 0, 0, 0.4);
  }
  .rangeslider .rangeslider__handle .rangeslider__active {
    opacity: 1;
  }
  .rangeslider .rangeslider__handle-tooltip {
    width: 40px;
    height: 40px;
    text-align: center;
    position: absolute;
    background-color: rgba(0, 0, 0, 0.8);
    font-weight: normal;
    font-size: 14px;
    transition: all 100ms ease-in;
    border-radius: 4px;
    display: inline-block;
    color: white;
    left: 50%;
    transform: translate3d(-50%, 0, 0);
  }
  .rangeslider .rangeslider__handle-tooltip span {
    margin-top: 12px;
    display: inline-block;
    line-height: 100%;
  }
  .rangeslider .rangeslider__handle-tooltip:after {
    content: ' ';
    position: absolute;
    width: 0;
    height: 0;
  }

  /**
  * Rangeslider - Horizontal slider
  */
  .rangeslider-horizontal {
    height: 12px;
    border-radius: 10px;
  }
  .rangeslider-horizontal .rangeslider__fill {
    height: 100%;
    // background-color: #7cb342;
    border-radius: 10px;
    top: 0;
  }
  .rangeslider-horizontal .rangeslider__handle {
    width: 30px;
    height: 30px;
    border-radius: 30px;
    top: 50%;
    transform: translate3d(-50%, -50%, 0);
  }

  .rangeslider__handle:focus {
    outline: none;
  }

/* optly overrides */

  .rangeslider,
  .rangeslider__fill {
    display: block;
    -webkit-box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.2) inset;
    box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.2) inset;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
    border-radius: 10px;
  }

  .rangeslider {
    background: #e6e6e6;
    position: relative;
  }

  .rangeslider--horizontal {
    height: 14px;
    width: 100%;
    margin-top: 12px;
  }

  .rangeslider--disabled {
    filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=40);
    opacity: 0.4;
  }

  .rangeslider__fill {
    background: #23a44f;
    position: absolute;
  }
  .rangeslider--horizontal .rangeslider__fill {
    top: 0;
    height: 100%;
  }

  .rangeslider__handle {
    background: white;
    border: 1px solid #ccc;
    cursor: pointer;
    display: inline-block;
    width: 24px;
    height: 24px;
    position: absolute;
    background-size: 100%;
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.3);
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
    border-radius: 50%;
  }
  .rangeslider__handle:after {
    content: "";
    display: block;
    width: 16px;
    height: 16px;
    margin: auto;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeDE9IjAuNSIgeTE9IjAuMCIgeDI9IjAuNSIgeTI9IjEuMCI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEzIi8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjZmZmZmZmIiBzdG9wLW9wYWNpdHk9IjAuMCIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PC9zdmc+IA==');
    background-size: 100%;
    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, rgba(0, 0, 0, 0.13)), color-stop(100%, rgba(255, 255, 255, 0)));
    background-image: -moz-linear-gradient(rgba(0, 0, 0, 0.13), rgba(255, 255, 255, 0));
    background-image: -webkit-linear-gradient(rgba(0, 0, 0, 0.13), rgba(255, 255, 255, 0));
    background-image: linear-gradient(rgba(0, 0, 0, 0.13), rgba(255, 255, 255, 0));
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
    border-radius: 50%;
  }
  .rangeslider__handle:active, .rangeslider--active .rangeslider__handle {
    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeDE9IjAuNSIgeTE9IjAuMCIgeDI9IjAuNSIgeTI9IjEuMCI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4xMiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PC9zdmc+IA==');
    background-size: 100%;
    background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, rgba(0, 0, 0, 0.1)), color-stop(100%, rgba(0, 0, 0, 0.12)));
    background-image: -moz-linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.12));
    background-image: -webkit-linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.12));
    background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.12));
  }
  .rangeslider--horizontal .rangeslider__handle {
    top: -5px;
    touch-action: pan-y;
    -ms-touch-action: pan-y;
  }

  .range-display {
    height: 35px;
    background-image: url('data:image/svg+xml;utf-8,<svg preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><path fill="#23a44f" d="M0 256h256V0z"/></svg>');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    position: absolute;
    // left: 31px;
    // right: 11px;
    left: 12px;
    right: 31px;
  }
  .range-display.range-display-overlay {
    background-color: white;
    background-image: none;
    left: calc(50% + -9px);
    opacity: .9;
  }
  .range-display.range-display-overlay::after {
    display: none;
  }

  .range-display::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0px;
    height: 8px;
    background-color: #F6F6F7;
    border: 1px solid #CDD0D8;
    bottom: -8px;
    border-bottom-left-radius: 100px;
    border-bottom-right-radius: 100px;
    border-top-color: #23a44f;
    border-top: none;
    -webkit-box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.2) inset;
        box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.2) inset;
  }
  .rangeslider--horizontal {
    height: 7px;
    border-radius: 0px;
    border-bottom-left-radius: 100px;
    border-bottom-right-radius: 100px;
    background: none;
    margin-top: 35px;
  }
  .rangeslider, .rangeslider__fill {
    top: -30px;
    height: 40px;
    background-color: transparent;
    box-shadow: none;
  }

  input[type=range]:focus + .rangeslider .rangeslider__handle {
    -moz-box-shadow: 0 0 8px rgba(0, 116, 180,.9);
    -webkit-box-shadow: 0 0 8px rgba(0, 116, 180,.9);
    box-shadow: 0 0 8px rgba(0, 116, 180,.9);
  }

  .range-grid {
    position: absolute;
    width: calc(100% - 44px);
    margin-left: 12px;
    height: 36px;
  }
  .range-grid .gridline {
    background-color: #CCC;
    opacity: 1;
    position: absolute;
    left: 0px;
    right: 0px;
    width: 1px;
    height: 95%;
    bottom: 0px;
  }
  .range-grid .gridline.gridline-half {
    left: 0px;
    right: 0px;
    width: 1px;
    height: 50%;
  }
  .rangeslider__handle {
    margin-top: 30px;
  }

  .range-grid .gridline.grid-1 {
  }
  .range-grid .gridline.grid-2 {
    left: 25%;
  }
  .range-grid .gridline.grid-3 {
    left: 50%;
  }
  .range-grid .gridline.grid-4 {
    left: 75%;
  }
  .range-grid .gridline.grid-5 {
    left: calc(100% );
  }
  .range-grid .gridline.grid-h1 {
    left: 12.5%;
  }
  .range-grid .gridline.grid-h2 {
    left: 37.5%;
  }
  .range-grid .gridline.grid-h3 {
    left: 62.5%;
  }
  .range-grid .gridline.grid-h4 {
    left: 87.5%;
  }


  .lego-grid__cell {
    position: relative;
  }

  .light-text {
    color: #888;
  }

  .flush-right {
    position: absolute;
    right: 0px;
    text-align: right;
    top: 0px;
  }

}
